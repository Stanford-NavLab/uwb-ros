<launch>
    <node name="uwb_interface"
          pkg="uwb_interface"
          type="uwb_interface_node"
          output="screen"
          args="-p /dev/ttyACM0"
    />

    <node name="uwb_msg_unpacker"
          pkg="uwb_interface"
          type="uwb_msg_unpacker.py"
          output="screen"
    />

    <!-- load asset name conversions -->
    <rosparam command="load" file="$(find uwb_interface)/param/flightroom.yaml"/>

    <node name="vrpn_msg_unpacker"
          pkg="uwb_interface"
          type="vrpn_msg_unpacker.py"
          output="screen"
    />

    <node name="plotjuggler"
          pkg="plotjuggler"
          type="plotjuggler"
          args="-n --layout $(find uwb_interface)/config/flightroom5.xml"
    />

    <arg name="server" default="mocap.local"/>

    <node pkg="vrpn_client_ros"
          type="vrpn_client_node"
          name="vrpn_client_node"
          output="screen">
      <rosparam subst_value="true">
        server: $(arg server)
        port: 3883

        update_frequency: 100.0
        frame_id: world

        # Use the VRPN server's time, or the client's ROS time.
        use_server_time: false
        broadcast_tf: true

        # Must either specify refresh frequency > 0.0, or a list of trackers to create
        refresh_tracker_frequency: 1.0
        #trackers:
        #- FirstTracker
        #- SecondTracker
      </rosparam>
    </node>


</launch>
